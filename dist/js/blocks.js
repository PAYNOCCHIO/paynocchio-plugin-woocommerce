(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&(t=a.currentScript.src),!t)){var c=a.getElementsByTagName("script");if(c.length)for(var s=c.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=c[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=window.React,a=window.wp.element,c=window.wp.i18n,s=window.wc.wcBlocksRegistry,n=window.wp.htmlEntities,l=window.wc.wcSettings,r=e.p+"images/cashback_ill.527e5b48.png";e.p;const m=e.p+"images/kopybara-logo.a12fba6f.png";function p(){return(0,t.createElement)("section",{className:"paynocchio"},(0,t.createElement)("div",{className:"paynocchio-embleme"},(0,t.createElement)("img",{src:m,className:"!cfps-block !cfps-mx-auto"})),(0,t.createElement)("div",{id:"paynocchio_auth_block",className:"cfps-max-w-4xl cfps-mx-auto cfps-mb-4"},(0,t.createElement)("div",{className:"paynocchio_login_form visible"},(0,t.createElement)("h2",{className:"cfps-text-center"},"Please, login before contunue!"),(0,t.createElement)("p",{className:"cfps-mb-8 cfps-text-center"},"Not registered? ",(0,t.createElement)("a",{className:"form-toggle-a"},"Sign up!")),(0,t.createElement)("form",{name:"loginform",id:"paynocchio_loginform",action:"/wp-login.php",method:"post"},(0,t.createElement)("div",{className:"row"},(0,t.createElement)("div",{className:"col"},(0,t.createElement)("label",{htmlFor:"log"},"Login"),(0,t.createElement)("input",{type:"text",name:"log",className:"paynocchio_input",id:"paynocchio_user_login"})),(0,t.createElement)("div",{className:"col"},(0,t.createElement)("label",{htmlFor:"pwd"},"Password"),(0,t.createElement)("input",{type:"password",name:"pwd",className:"paynocchio_input",id:"paynocchio_user_pass"}))),(0,t.createElement)("p",{className:"row"},(0,t.createElement)("label",null,(0,t.createElement)("input",{name:"rememberme",type:"checkbox",id:"paynocchio_rememberme",value:"forever"})," Remember me")),(0,t.createElement)("p",{className:"row"},(0,t.createElement)("input",{type:"submit",name:"wp-submit",id:"paynocchio_wp-submit",className:"paynocchio_button",value:"Log in"}),(0,t.createElement)("input",{type:"hidden",name:"cfps_cookie",value:"1"})))),(0,t.createElement)("div",{className:"paynocchio_register_form"},(0,t.createElement)("h2",{className:"cfps-text-center"},"Join Us for your convenience!"),(0,t.createElement)("p",{className:"cfps-text-center cfps-mb-8"},"Already registered? ",(0,t.createElement)("a",{className:"form-toggle-a"},"Log in!")),(0,t.createElement)("form",{name:"registerform",id:"registerform",noValidate:"novalidate",action:"/wp-login.php?action=register",method:"post"},(0,t.createElement)("div",{className:"row"},(0,t.createElement)("div",{className:"col"},(0,t.createElement)("label",{htmlFor:"user_login",className:"for_input"},"Username"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"text",name:"user_login",id:"user_login",className:"paynocchio_input",value:"",autoCapitalize:"off",autoComplete:"username",required:"required"})),(0,t.createElement)("div",{className:"col"},(0,t.createElement)("label",{htmlFor:"user_email",className:"for_input"},"Email"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"email",name:"user_email",id:"user_email",className:"paynocchio_input",value:"",autoComplete:"email",required:"required"}))),(0,t.createElement)("p",{id:"reg_passmail",className:"row"},"Registration confirmation will be emailed to you."),(0,t.createElement)("p",{className:"submit row"},(0,t.createElement)("input",{type:"submit",name:"wp-submit",id:"wp-submit",className:"paynocchio_button",value:"Register"}))))))}const o=window.ReactDOM,i=({children:e,onClose:a})=>(0,t.createElement)(t.Fragment,null,(0,o.createPortal)((0,t.createElement)("div",{className:"modal medium open"},(0,t.createElement)("div",{className:"close-modal close",onClick:a}),(0,t.createElement)("div",{className:"container"},e)),document.body));i.Header=({children:e,onClose:a})=>(0,t.createElement)("div",{className:"header"},(0,t.createElement)("h3",null,e),(0,t.createElement)("button",{className:"close",onClick:a},"Ã—")),i.Content=({children:e,className:a})=>(0,t.createElement)("div",{className:"content"+(a?" "+a:"")},e);const f=i,u=e.p+"images/mc.cf6ccc88.png",d=e.p+"images/arr_d.dd63e771.png",E=e.p+"images/vs.1343e352.png",g=e.p+"images/plus_b.c366fd48.png",h=e.p+"images/arr_rb.8cd6a8f4.png",b=e.p+"images/i-gr.6c170f32.png";function y({onClose:e}){return(0,t.createElement)(f,{onClose:e},(0,t.createElement)(f.Header,{onClose:e},(0,c.__)("TopUp Wallet")),(0,t.createElement)(f.Content,null,(0,t.createElement)("div",{className:""},(0,t.createElement)("p",{className:"cfps-text-gray-500"},"From"),(0,t.createElement)("div",{className:"card-variants"},(0,t.createElement)("div",{className:"card-var current-card","data-pan":"<?php echo $wallet['card_number']; ?>"},(0,t.createElement)("div",{className:"cfps-flex cfps-flex-row cfps-gap-x-4 cfps-items-center"},(0,t.createElement)("img",{src:u,className:"cfps-h-[30px] cfps-w-[30px] cfps-mr-1 cfps-inline-block"}),(0,t.createElement)("p",null,"1356 5674 2352 2373")),(0,t.createElement)("img",{src:d,className:"cfps-h-[30px] cfps-w-[30px] cfps-inline-block"})),(0,t.createElement)("div",{className:"card-var","data-pan":"3727844328348156"},(0,t.createElement)("div",{className:"cfps-flex cfps-flex-row cfps-gap-x-4 cfps-items-center"},(0,t.createElement)("img",{src:E,className:"cfps-h-[30px] cfps-w-[30px] cfps-mr-1 cfps-inline-block"}),(0,t.createElement)("p",null,"3727 8443 2834 8156")),(0,t.createElement)("img",{src:d,className:"cfps-h-[30px] cfps-w-[30px] cfps-inline-block"})),(0,t.createElement)("div",{className:"card-var","data-pan":""},(0,t.createElement)("div",{className:"cfps-flex cfps-flex-row cfps-gap-x-4 cfps-items-center"},(0,t.createElement)("img",{"data-modal":".paymentMethodModal",src:g,className:"cfps-h-[30px] cfps-w-[30px] cfps-mr-1 cfps-inline-block"}),(0,t.createElement)("p",{"data-modal":".paymentMethodModal"},"Add new payment method")))),(0,t.createElement)("input",{type:"hidden",id:"source-card",name:"source-card",value:""}),(0,t.createElement)("div",{className:"top-up-amount-container cfps-mt-8 lg:cfps-mt-12 cfps-flex cfps-flex-row"},(0,t.createElement)("p",{className:"cfps-text-3xl"},"$"),(0,t.createElement)("input",{type:"number",step:"0.01",className:"cfps-bg-white cfps-border-0 cfps-text-3xl !cfps-p-0 focus:!cfps-outline-none",name:"amount",id:"top_up_amount",placeholder:"0",value:"1000"})),(0,t.createElement)("div",{className:"top-up-variants cfps-flex cfps-flex-row cfps-items-center cfps-mt-8 lg:cfps-mt-12 cfps-gap-x-2"},(0,t.createElement)("a",{className:"cfps-bg-gray-100 cfps-px-4 cfps-py-3 cfps-rounded-lg cfps-text-xl cfps-cursor-pointer",id:"variant_1000"},"$1000"),(0,t.createElement)("a",{className:"cfps-bg-gray-100 cfps-px-4 cfps-py-3 cfps-rounded-lg cfps-text-xl cfps-cursor-pointer",id:"variant_2000"},"$2000"),(0,t.createElement)("a",{className:"cfps-bg-gray-100 cfps-px-4 cfps-py-3 cfps-rounded-lg cfps-text-xl cfps-cursor-pointer",id:"variant_5000"},"$5000"),(0,t.createElement)("a",{className:"cfps-bg-gray-100 cfps-px-4 cfps-py-3 cfps-rounded-lg cfps-text-xl cfps-cursor-pointer",id:"variant_10000"},"$10 000"),(0,t.createElement)("a",{className:"cfps-bg-gray-100 cfps-px-4 cfps-py-3 cfps-rounded-lg cfps-text-xl cfps-cursor-pointer",id:"variant_15000"},"$15 000")),(0,t.createElement)("p",{className:"cfps-flex cfps-flex-row cfps-items-center cfps-mt-4 cfps-gap-x-0.5"},"The sending bank may charge a fee.",(0,t.createElement)("a",{href:"#"},"Here's how to avoid it."),(0,t.createElement)("img",{src:h,className:"cfps-h-[18px] cfps-w-[18px] cfps-inline-block"})),(0,t.createElement)("div",{className:"autodeposit cfps-flex cfps-flex-row cfps-items-center cfps-mt-8 lg:cfps-mt-12 cfps-gap-x-2"},(0,t.createElement)("img",{src:b,className:"cfps-h-[18px] cfps-w-[16px] cfps-mr-1 cfps-inline-block"}),"Autodeposit",(0,t.createElement)("div",{className:"toggle-autodeposit"},(0,t.createElement)("p",null,"ON"),(0,t.createElement)("div",{className:"toggler"}),(0,t.createElement)("p",null,"OFF")),(0,t.createElement)("input",{className:"hidden",value:"0",name:"autodeposit",id:"autodeposit"})),(0,t.createElement)("div",null,(0,t.createElement)("button",{id:"top_up_button",type:"button",className:"cfps-btn-primary"},"Top up",(0,t.createElement)("svg",{className:"cfps-spinner cfps-hidden cfps-animate-spin cfps-ml-4 cfps-h-5 cfps-w-5 cfps-text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},(0,t.createElement)("circle",{className:"cfps-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,t.createElement)("path",{className:"cfps-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})))))))}const N=(0,l.getSetting)("paynocchio_data",{}),w=({bonuses:e,setBonuses:c})=>{const[s,n]=(0,a.useState)(!1),[l,m]=(0,a.useState)(N.user);let o;return o=N.wallet.balance<N.cart_total?N.wallet.balance:N.cart_total,l?(0,t.createElement)("div",{className:"paynocchio-payment-block"},(0,t.createElement)("div",{className:"cfps-grid cfps-grid-cols-[1fr_1fr] cfps-gap-x-8 cfps-items-stretch"},(0,t.createElement)("div",{className:"paynocchio-card-simulator"},(0,t.createElement)("h3",{className:"!cfps-mb-0"},"Kopybara.Pay"),(0,t.createElement)("div",{className:"cfps-flex cfps-flex-row cfps-items-center cfps-text-white cfps-gap-x-8 cfps-text-xl"},(0,t.createElement)("div",null,(0,t.createElement)("p",null,"Balance"),(0,t.createElement)("p",null,"$",(0,t.createElement)("span",{className:"paynocchio-numbers paynocchio-balance-value"},N.wallet.balance))),(0,t.createElement)("div",null,(0,t.createElement)("p",null,"Bonuses"),(0,t.createElement)("p",null,(0,t.createElement)("span",{className:"paynocchio-numbers paynocchio-bonus-value"},N.wallet.bonuses)))),(0,t.createElement)("div",{className:"cfps-flex cfps-flex-row cfps-items-center cfps-gap-x-2"},(0,t.createElement)("a",{className:"btn-blue",onClick:()=>n(!0)},"Add money"),(0,t.createElement)("a",{className:"btn-white"},"Withdraw"))),(0,t.createElement)("div",{className:"paynocchio-promo-badge"},(0,t.createElement)("div",{className:"cfps-grid cfps-grid-cols-2 cfps-gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"!cfps-mb-0"},"Ultimate Cashback"),(0,t.createElement)("p",null,"Make three purchases and get an increased cashback on everything!"),(0,t.createElement)("a",{className:"btn-white cfps-absolute cfps-bottom-4 cfps-left-4",href:"#"},"Read more")),(0,t.createElement)("img",{src:r,className:"object-contain"})))),N.wallet.bonuses&&(0,t.createElement)("div",{className:"paynocchio-conversion-rate cfps-mt-8"},(0,t.createElement)("h3",null,"How much do you want to pay in bonuses?"),(0,t.createElement)("input",{type:"number",className:"input-text short",name:"bonuses_value",id:"bonuses-value",placeholder:"",onChange:e=>c(e.target.value),value:e}),(0,t.createElement)("input",{type:"range",name:"bonuses_input",id:"bonuses_input",min:"0",max:o,value:e,onChange:e=>c(e.target.value)})),(0,t.createElement)("div",{className:"cfps-flex cfps-flex-row cfps-gap-x-4 cfps-mt-8"},(0,t.createElement)("a",{href:"#"},"Manage Cards"),(0,t.createElement)("a",{href:"#"},"History"),(0,t.createElement)("a",{href:"#"},"Support"),(0,t.createElement)("a",{href:"#"},"Terms")),s&&(0,t.createElement)(y,{onClose:()=>n(!1)})):(0,t.createElement)(p,null)},v=(0,c.__)("Paynocchio Payment","woocommerce-paynocchio"),x=(0,n.decodeEntities)(N.title)||v,_={name:"paynocchio",label:(0,t.createElement)((e=>{const{PaymentMethodLabel:a}=e.components;return(0,t.createElement)(a,{text:x})}),null),content:(0,t.createElement)((e=>{const{eventRegistration:c,emitResponse:s}=e,{onPaymentSetup:n}=c,[l,r]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const e=n((async()=>{const e=l;return e.length?{type:s.responseTypes.SUCCESS,meta:{paymentMethodData:{bonusesValue:e}}}:{type:s.responseTypes.ERROR,message:"There was an error"}}));return()=>{e()}}),[s.responseTypes.ERROR,s.responseTypes.SUCCESS,n,l]),(0,t.createElement)(w,{bonuses:l,setBonuses:r})}),null),edit:(0,t.createElement)((()=>(0,t.createElement)("div",null,"Best Payment method ever")),null),canMakePayment:()=>!0,ariaLabel:x,supports:{features:N.supports}};(0,s.registerPaymentMethod)(_)})();