(()=>{"use strict";(c=>{const o=(o,e)=>{c(o.target).addClass("cfps-disabled"),c(`#${o.target.id} .cfps-spinner`).removeClass("cfps-hidden"),c.ajax({url:paynocchio_object.ajaxurl,type:"POST",data:{action:"paynocchio_ajax_activation","ajax-activation-nonce":c("#ajax-activation-nonce").val()},success:function(c){c.success&&(e?document.location.href=e:document.location.reload())}}).always((function(){c(`#${o.target.id} .cfps-spinner`).addClass("cfps-hidden"),c(o.target).removeClass("cfps-disabled")}))};c(document).ready((function(){const e="/checkout/"===window.location.pathname,a=c("#paynocchio_activation_button");e||a.click((c=>o(c))),c(".form-toggle-a").click((()=>toggleVisibility("#paynocchio_auth_block"))),c(document).on("updated_checkout",(function(){c("#paynocchio_activation_button").click((c=>o(c))),c(".form-toggle-a").click((()=>toggleVisibility("#paynocchio_auth_block"))),function(c,o=window.location.href){c=c.replace(/[\[\]]/g,"\\$&");const e=new RegExp("[?&]"+c+"(=([^&#]*)|&|#|$)").exec(o);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}("ans")&&c(".woocommerce-notices-wrapper:first-child").prepend('<div class="woocommerce-message" role="alert">Registration complete. Please check your email, then visit this page again.</div>')}))}))})(jQuery)})();